{% extends "base.html" %}
{% load static %}

{% block title %}Add Telegram Channel{% endblock %}

{% block breadcrumbs %}
<nav aria-label="breadcrumb" class="mb-3">
  <ol class="breadcrumb breadcrumb-soul mb-0">
    <li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Dashboard</a></li>
    <li class="breadcrumb-item"><a href="{% url 'channel_list' %}">Channel Manager</a></li>
    <li class="breadcrumb-item active" aria-current="page">Add Channel</li>
  </ol>
</nav>
{% endblock %}

{% block content %}
<div class="d-flex flex-wrap justify-content-between align-items-center gap-2 mb-4">
  <h1 class="mb-0" style="background: var(--soul-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
    Add Telegram Channel
  </h1>
  <a href="{% if next_url %}{{ next_url }}{% else %}{% url 'channel_list' %}{% endif %}" class="btn btn-action">
    <i class="fa-solid fa-arrow-left icon" aria-hidden="true"></i> Back
  </a>
</div>

<div class="card card-soul mb-4" style="max-width: 560px;">
  <div class="card-body">
    <form method="post" action="{% url 'channel_create' %}">
      {% csrf_token %}
      {% if next_url %}<input type="hidden" name="next" value="{{ next_url }}">{% endif %}
      <div class="mb-3">
        <label for="id_title" class="form-label">Channel title</label>
        <input type="text" name="title" id="id_title" class="form-control" placeholder="e.g. Live Ads Channel" value="{{ form.title.value|default:'' }}" maxlength="128" required>
        {% if form.title.errors %}<div class="invalid-feedback d-block">{{ form.title.errors.0 }}</div>{% endif %}
      </div>
      <div class="mb-3">
        <label for="id_channel_id" class="form-label">Channel ID</label>
        <input type="text" name="channel_id" id="id_channel_id" class="form-control" placeholder="-1001234567890" value="{{ form.channel_id.value|default:'' }}" maxlength="32" required>
        {% if form.channel_id.errors %}<div class="invalid-feedback d-block">{{ form.channel_id.errors.0 }}</div>{% endif %}
      </div>
      <div class="mb-4">
        <label for="id_bot_connection" class="form-label">Bot</label>
        {{ form.bot_connection }}
        {% if form.bot_connection.errors %}<div class="invalid-feedback d-block">{{ form.bot_connection.errors.0 }}</div>{% endif %}
      </div>
      <div class="d-flex gap-2">
        <button type="submit" class="btn btn-soul">Add Channel</button>
        <a href="{% if next_url %}{{ next_url }}{% else %}{% url 'channel_list' %}{% endif %}" class="btn btn-secondary">Cancel</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
